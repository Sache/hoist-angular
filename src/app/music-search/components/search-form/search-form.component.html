<!-- <pre>{{queryForm.value|json}}</pre> -->

<form [formGroup]="queryForm">

  <div class="input-group mb-3">

    <input class="form-control" placeholder="Search albums" formControlName="query"
      (keyup.alt.control.enter)="search(queryForm.get('query')!.value) ">

    <!-- <div class="input-group-append">
      <button class="btn btn-outline-secondary" (click)="search()">
        Search
      </button>
    </div> -->
  </div>

  <div *ngFor="let error of queryForm.get('query')?.errors | keyvalue">
    <div [ngSwitch]="error.key">
      <div *ngSwitchCase="'required'"> Cannot be empty</div>
      <div *ngSwitchCase="'minlength'">Minimum {{error.value.requiredLength}}</div>
    </div>
  </div>

  <ng-container *ngIf="queryForm.get('query') as field">
      <p *ngIf="field.hasError('required')">Cannot be empty</p>
    
      <p *ngIf="field.getError('minlength') as error">
        Minimum length is {{ error.requiredLength }} letters
      </p>
  </ng-container>

</form>